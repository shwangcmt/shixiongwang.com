/* Di√°taxis Font Styles */

:root {
    /* Override the default Starlight font variable to use Source Serif 4 by default (for body and headings) */
    --sl-font: 'Source Serif 4', serif;

    /* Define a variable for our UI font (Source Sans 3) */
    --sl-font-ui: 'Source Sans 3', sans-serif;

    /* Update Heading Sizes to match User Request (Very Compact) */
    --sl-text-h1: 1.5rem;
    --sl-text-h2: 1.2rem;
    --sl-text-h3: 1rem;
    --sl-text-h4: 0.95rem;
    --sl-text-h5: 0.9rem;
}

/* Reduce spacing between sections (Compact Margins) */
.sl-markdown-content h1,
.sl-markdown-content h2,
.sl-markdown-content h3,
.sl-markdown-content h4 {
    margin-top: 1em !important;
    /* Tighter spacing (1em) */
    margin-bottom: 0.6em !important;
}

/* Enforce Semi-Bold (600) for all headings, and Italic for H3 */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: 600 !important;
}

h3 {
    font-style: italic;
}

/* Apply Sans-Serif font to UI elements */
.header,
.sidebar,
.right-sidebar,
starlight-menu-button,
.sl-steps,
.sl-markdown-content .sl-badge {
    font-family: var(--sl-font-ui);
}

/* Increase font size for Right Sidebar (Table of Contents) */
/* Increase font size for Right Sidebar (Table of Contents) */
.right-sidebar a {
    font-size: 0.9375rem;
    /* ~15px */
    padding-block: 0.4em;
    /* Increased spacing per user request */
    transition: color 0.15s ease, border-left 0.15s ease;
}

/* Active Highlight for Right Sidebar (Current Section) */
/* Active Highlight for Right Sidebar (Current Section) & Mobile TOC */
.right-sidebar a[aria-current="true"],
starlight-toc a[aria-current="true"],
.mobile-starlight-toc a[aria-current="true"] {
    color: var(--sl-color-accent-high);
    font-weight: 600;
    position: relative;
    background-color: transparent;
    /* Remove direct background */
    border: none;
    isolation: isolate;
    /* Ensure z-index works correctly */
}

.right-sidebar a[aria-current="true"]::before,
starlight-toc a[aria-current="true"]::before,
.mobile-starlight-toc a[aria-current="true"]::before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: -0.5rem;
    /* Visual space before text */
    right: -0.5rem;
    background-color: var(--sl-color-accent-low);
    border-radius: 4px;
    z-index: -1;
}

/* Hide default checkmark/icon in mobile TOC active item */
/* Hide default checkmark/icon in mobile TOC active item (SVG or pseudo-element) */
starlight-toc a[aria-current="true"] svg,
#starlight__mobile-toc a[aria-current="true"] svg,
#starlight__mobile-toc .dropdown a[aria-current="true"] svg,
#starlight__mobile-toc a svg,
#starlight__mobile-toc a[aria-current="true"]::after {
    display: none !important;
    content: none !important;
}


/* Strengthen background highlight for Light Mode in Mobile TOC */
:root[data-theme='light'] #starlight__mobile-toc a[aria-current="true"]::before {
    background-color: rgba(0, 0, 0, 0.08);
    /* Darker overlay for better visibility in light mode */
    border: 1px solid rgba(0, 0, 0, 0.05);
    /* Subtle definition */
}

/* Increase font size for Left Sidebar (Navigation) */
.sidebar-content a,
.sidebar-content summary {
    font-size: 0.9375rem;
    /* ~15px */
}

/* Active Highlight for Left Sidebar (Current Page) */
/* Active Highlight for Left Sidebar (Current Page) */
.sidebar-content a[aria-current="page"] {
    color: var(--sl-color-accent-high);
    font-weight: 600;
    position: relative;
    background-color: transparent;
    /* Remove direct background */
    border: none;
}

.sidebar-content a[aria-current="page"]::before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: -0.5rem;
    /* Visual space before text */
    right: -0.5rem;
    background-color: var(--sl-color-accent-low);
    border-radius: 4px;
    z-index: -1;
}

/* Ensure code blocks still use mono if needed (Starlight usually handles this with --sl-font-mono) */
/* The Flexoki theme uses --sl-font-mono for code, which is fine. */

/* Make bold text in body Semi-Bold (600) instead of Bold (700) */
.content-panel strong,
.content-panel b,
.main-frame strong,
.main-frame b {
    font-weight: 600;
}

/* Slightly compact line spacing */
.content-panel,
.main-frame {
    --sl-line-height: 1.55;
    line-height: 1.55;
}

/* Hide heading anchor links by default on all devices (including mobile) */
.sl-markdown-content .sl-anchor-link {
    opacity: 0;
}

/* Ensure they only appear on focus or hover (desktop) */
.sl-markdown-content .sl-anchor-link:focus,
.sl-markdown-content .sl-heading-wrapper:hover .sl-anchor-link {
    opacity: 1;
}